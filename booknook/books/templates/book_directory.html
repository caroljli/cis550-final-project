
{% extends 'base.html' %}

{% load static %}

{% block content %}
<section class="hero is-light">
    <div class="hero-body">
      <div class="container">
        <h1 class="title">
            Book Directory
        </h1>
        <h2 class="subtitle">
            View and find book titles.
        </h2>
      </div>
    </div>
</section>

<div class="columns">
    <div class="column is-one-fifth"></div>
    <div class="column">
        <br>
        <form method="GET" action="{% url 'books' %}">
          {% csrf_token %}
          <input name="search_params" class="input is-rounded" type="text" placeholder="ðŸ”Ž  Search for a book...">
        </form>

        <a class="btn btn-primary" href="/authors">Get Top 10 Authors</a>

        <br></br>

        <a class="btn btn-primary" href="/mostreviews">Get Top 10 Most-Reviewed Books</a>

        <form method="GET" action="{% url 'books' %}">
          {% csrf_token %}
          <input name="authors_params" class="input is-rounded" type="text" placeholder="ðŸ”Ž  Enter an author to get their top 10 books...">
        </form>

        <br><br>
        <div class="columns is-multiline">
            <!-- add the loop here -->
            {% for book in books %}
            <div class="column is-one-third">
              <div class="card">
                <div class="card-content">
                  <div class="media">
                    <div class="media-content">
                      <p class="title is-4">
                        <a href="{% url 'book' book.id %}" style="color: black; cursor: pointer">{{ book.title }}</a>
                      </p>
                      <!-- <p class="subtitle is-6">@johnsmith</p> -->

                    </div>
                  </div>
                  <div class="content">
                    <a style="cursor: default; color: #80BDFE"><strong>Average Rating:</strong></a> {{ book.authors }}
                    <br/>
                    <a style="cursor: default; color: #80BDFE"><strong>Average Rating:</strong></a> {{ book.average_rating }}
                  </div>
                </div>
              </div>

              <br/>
            </div>

            {% endfor %}

        </div>
    </div>
<div class="column is-one-fifth"></div>

{% endblock %}